modules:
  - id: "data_source_manager"
    name: "ox_persistence_datasource_manager"
    params:
      data_sources_dir: "/var/repos/oxIDIZER/ox_persistence/conf/datasources"
      on_content_conflict: "skip"
  
  - id: "data_source_manager_stream"
    name: "ox_webservice_stream"
    params:
      config_file: "/var/repos/oxIDIZER/ox_persistence_datasource_manager/conf/ox_persistence_datasource_manager_stream.yaml"

routes:
  # API Routes (High Priority)
  - url: "^/data_sources/?(.*)?$"
    headers:
      Accept: "application/json"
    module_id: "data_source_manager"
    priority: 499
    phase: Content

  - url: "^/data_sources/?(.*)?$"
    query:
      format: "json"
    module_id: "data_source_manager"
    priority: 499
    phase: Content

  # 4. Fallback (Assets, remaining requests)
  - url: "^/data_sources/?(.*)?$"
    module_id: "data_source_manager_stream"
    priority: 500
    phase: Content
