<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Package Manager | oxIDIZER</title>
    <link rel="icon" type="image/png" href="/images/favicon.png">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="css/style.css">
    <!-- Using relative path since we are served from /packages/ -->
</head>

<body>
    <div class="container">
        <header>
            <div class="logo-area">
                <img src="/images/logo.png" alt="oxIDIZER" class="logo">
                <h1>Package Manager</h1>
            </div>
            <div>
                <a href="/status" class="btn" style="text-decoration:none; font-size: 0.9rem;">Back to Status</a>
            </div>
        </header>

        <div id="drop-zone" class="card">
            <span class="upload-icon">☁️</span>
            <h2>Drag & Drop package file here</h2>
            <p style="color: var(--text-secondary)">or</p>
            <button id="browse-btn" class="btn">Select File</button>
            <input type="file" id="file-input" name="package">

            <div class="progress-container" id="progress-container">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                    <div class="progress-bar" style="flex-grow: 1;">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <button id="cancel-btn" class="btn"
                        style="display:none; padding: 4px 10px; font-size: 0.8rem; background: var(--error);">Cancel</button>
                </div>
                <div class="status-text" id="status-text">Waiting...</div>
            </div>
        </div>

        <div class="pkg-list" id="staged-list">
            <h4
                style="margin-bottom: 1rem; color: var(--text-secondary); text-transform: uppercase; font-size: 0.8rem;">
                Staged Packages</h4>
            <!-- Items added via JS -->
        </div>
    </div>

    <script src="js/upload.js"></script>
</body>

</html>