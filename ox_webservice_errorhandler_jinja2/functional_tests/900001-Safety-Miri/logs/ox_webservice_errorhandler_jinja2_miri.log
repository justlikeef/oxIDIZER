warning: unused imports: `Deserialize` and `Serialize`
 --> ox_plugin/src/lib.rs:2:13
  |
2 | use serde::{Deserialize, Serialize};
  |             ^^^^^^^^^^^  ^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `super::*`
   --> ox_plugin/src/lib.rs:135:9
    |
135 |     use super::*;
    |         ^^^^^^^^

warning: `ox_plugin` (lib) generated 2 warnings (run `cargo fix --lib -p ox_plugin` to apply 2 suggestions)
warning: unused import: `anyhow`
 --> ox_fileproc/src/cursor.rs:3:31
  |
3 | use anyhow::{Result, Context, anyhow};
  |                               ^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `std::ops::Range`
 --> ox_fileproc/src/scanners/mod.rs:1:5
  |
1 | use std::ops::Range;
  |     ^^^^^^^^^^^^^^^

warning: unused import: `Format`
 --> ox_fileproc/src/scanners/mod.rs:2:29
  |
2 | use crate::cursor::{Cursor, Format};
  |                             ^^^^^^

warning: variable `block_end` is assigned to, but never used
  --> ox_fileproc/src/scanners/yaml.rs:51:30
   |
51 |                          let mut block_end = block.len();
   |                              ^^^^^^^^^^^^^
   |
   = note: consider using `_block_end` instead
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: value assigned to `block_end` is never read
  --> ox_fileproc/src/scanners/yaml.rs:75:34
   |
75 | ...                   block_end = relative_offset;
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: maybe it is overwritten before being read?
   = note: `#[warn(unused_assignments)]` (part of `#[warn(unused)]`) on by default

warning: hiding a lifetime that's elided elsewhere is confusing
  --> ox_fileproc/src/cursor.rs:62:17
   |
62 |     pub fn find(&self, query: &str) -> impl Iterator<Item = Cursor> + '_ {
   |                 ^^^^^                                       ^^^^^^    ^^ the same lifetime is elided here
   |                 |                                           |
   |                 the lifetime is elided here                 the same lifetime is hidden here
   |
   = help: the same lifetime is referred to in inconsistent ways, making the signature confusing
   = note: `#[warn(mismatched_lifetime_syntaxes)]` on by default
help: use `'_` for type paths
   |
62 |     pub fn find(&self, query: &str) -> impl Iterator<Item = Cursor<'_>> + '_ {
   |                                                                   ++++

warning: `ox_fileproc` (lib) generated 6 warnings (run `cargo fix --lib -p ox_fileproc` to apply 4 suggestions)
warning: unused imports: `AllocFn` and `WebServiceApiV1`
 --> ox_webservice_test_utils/src/lib.rs:3:5
  |
3 |     AllocFn, AllocStrFn, HandlerResult, LogLevel, ModuleInterface, PipelineState, WebServiceApiV1, C...
  |     ^^^^^^^                                                                       ^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning[E0133]: call to unsafe function `std::ffi::CStr::from_ptr` is unsafe and requires unsafe block
  --> ox_webservice_test_utils/src/lib.rs:27:17
   |
27 |     let c_str = CStr::from_ptr(s);
   |                 ^^^^^^^^^^^^^^^^^ call to unsafe function
   |
   = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/unsafe-op-in-unsafe-fn.html>
   = note: consult the function's documentation for information on how to avoid undefined behavior
note: an unsafe function restricts its caller, but its body is safe by default
  --> ox_webservice_test_utils/src/lib.rs:25:1
   |
25 | pub un...) -> *mut c_char {
   | ^^^^^^...^^^^^^^^^^^^^^^^
   = note: `#[warn(unsafe_op_in_unsafe_fn)]` (part of `#[warn(rust_2024_compatibility)]`) on by default

warning[E0133]: dereference of raw pointer is unsafe and requires unsafe block
  --> ox_webservice_test_utils/src/lib.rs:31:21
   |
31 | ...= &*(arena as *const Bump);
   |       ^^^^^^^^^^^^^^^^^^^^^^^ dereference of raw pointer
   |
   = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/unsafe-op-in-unsafe-fn.html>
   = note: raw pointers may be null, dangling or unaligned; they can violate aliasing rules and cause data races: all of these are undefined behavior

warning[E0133]: dereference of raw pointer is unsafe and requires unsafe block
  --> ox_webservice_test_utils/src/lib.rs:43:26
   |
43 | ...ut *(arena as *mut Bump);
   |       ^^^^^^^^^^^^^^^^^^^^^ dereference of raw pointer
   |
   = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/unsafe-op-in-unsafe-fn.html>
   = note: raw pointers may be null, dangling or unaligned; they can violate aliasing rules and cause data races: all of these are undefined behavior
note: an unsafe function restricts its caller, but its body is safe by default
  --> ox_webservice_test_utils/src/lib.rs:41:1
   |
41 | pub un...) -> *mut c_void {
   | ^^^^^^...^^^^^^^^^^^^^^^^

warning[E0133]: dereference of raw pointer is unsafe and requires unsafe block
  --> ox_webservice_test_utils/src/lib.rs:43:26
   |
43 | ...ut *(arena as *mut Bump);
   |       ^^^^^^^^^^^^^^^^^^^^^ dereference of raw pointer
   |
   = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/unsafe-op-in-unsafe-fn.html>
   = note: raw pointers may be null, dangling or unaligned; they can violate aliasing rules and cause data races: all of these are undefined behavior
note: an unsafe function restricts its caller, but its body is safe by default
  --> ox_webservice_test_utils/src/lib.rs:41:1
   |
41 | pub un...) -> *mut c_void {
   | ^^^^^^...^^^^^^^^^^^^^^^^
   = note: duplicate diagnostic emitted due to `-Z deduplicate-diagnostics=no`

warning[E0133]: call to unsafe function `std::alloc::alloc` is unsafe and requires unsafe block
  --> ox_webservice_test_utils/src/lib.rs:49:9
   |
49 | ...   std::alloc::alloc(layout) as...
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^ call to unsafe function
   |
   = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/unsafe-op-in-unsafe-fn.html>
   = note: consult the function's documentation for information on how to avoid undefined behavior

warning[E0133]: call to unsafe function is unsafe and requires unsafe block
  --> ox_webservice_test_utils/src/lib.rs:85:9
   |
85 | ...   alloc_fn(arena, c_s.as_ptr())
   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ call to unsafe function
   |
   = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/unsafe-op-in-unsafe-fn.html>
   = note: consult the function's documentation for information on how to avoid undefined behavior
note: an unsafe function restricts its caller, but its body is safe by default
  --> ox_webservice_test_utils/src/lib.rs:54:1
   |
54 | pub un...) -> *mut c_char {
   | ^^^^^^...^^^^^^^^^^^^^^^^

warning[E0133]: call to unsafe function is unsafe and requires unsafe block
   --> ox_webservice_test_utils/src/lib.rs:137:5
    |
137 |     alloc_fn(arena, json.as_ptr())
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ call to unsafe function
    |
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/unsafe-op-in-unsafe-fn.html>
    = note: consult the function's documentation for information on how to avoid undefined behavior
note: an unsafe function restricts its caller, but its body is safe by default
   --> ox_webservice_test_utils/src/lib.rs:135:1
    |
135 | pub u...n) -> *mut c_char {
    | ^^^^^...^^^^^^^^^^^^^^^^^

For more information about this error, try `rustc --explain E0133`.
warning: `ox_webservice_test_utils` (lib) generated 8 warnings (run `cargo fix --lib -p ox_webservice_test_utils` to apply 6 suggestions)
warning[E0133]: call to unsafe function is unsafe and requires unsafe block
   --> ox_webservice_errorhandler_jinja2/src/lib.rs:342:5
    |
342 |     alloc_fn(arena, CString::new(json).unwrap().as_ptr())
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ call to unsafe function
    |
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/unsafe-op-in-unsafe-fn.html>
    = note: consult the function's documentation for information on how to avoid undefined behavior
note: an unsafe function restricts its caller, but its body is safe by default
   --> ox_webservice_errorhandler_jinja2/src/lib.rs:329:1
    |
329 | / unsafe extern "C" fn get_con...
330 | |     instance_ptr: *mut c_void,
331 | |     arena: *const c_void,
332 | |     alloc_fn: AllocStrFn,
333 | | ) -> *mut c_char {
    | |________________^
    = note: `#[warn(unsafe_op_in_unsafe_fn)]` (part of `#[warn(rust_2024_compatibility)]`) on by default

warning: `ox_webservice_errorhandler_jinja2` (lib) generated 1 warning (run `cargo fix --lib -p ox_webservice_errorhandler_jinja2` to apply 1 suggestion)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.17s
     Running unittests src/lib.rs (/var/repos/oxIDIZER/target/miri/x86_64-unknown-linux-gnu/debug/deps/ox_webservice_errorhandler_jinja2-0109c6a8cd1fa7c9)
warning: unused import: `LogLevel`
 --> ox_webservice_errorhandler_jinja2/src/tests.rs:2:40
  |
2 | ...erResult, LogLevel, ModuleSta...
  |              ^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning[E0133]: call to unsafe function is unsafe and requires unsafe block
   --> ox_webservice_errorhandler_jinja2/src/lib.rs:342:5
    |
342 |     alloc_fn(arena, CString::new(json).unwrap().as_ptr())
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ call to unsafe function
    |
    = note: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/unsafe-op-in-unsafe-fn.html>
    = note: consult the function's documentation for information on how to avoid undefined behavior
note: an unsafe function restricts its caller, but its body is safe by default
   --> ox_webservice_errorhandler_jinja2/src/lib.rs:329:1
    |
329 | / unsafe extern "C" fn get_con...
330 | |     instance_ptr: *mut c_void,
331 | |     arena: *const c_void,
332 | |     alloc_fn: AllocStrFn,
333 | | ) -> *mut c_char {
    | |________________^
    = note: `#[warn(unsafe_op_in_unsafe_fn)]` (part of `#[warn(rust_2024_compatibility)]`) on by default


running 2 tests
test tests::test_errorhandler_basic_flow ... ok
test tests::test_errorhandler_malformed_config ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 7.44s

     Running tests/ffi.rs (/var/repos/oxIDIZER/target/miri/x86_64-unknown-linux-gnu/debug/deps/ffi-ee5023750378067d)

running 1 test
test test_module_loading_and_execution ... error: unsupported operation: extern static `pidfd_spawnp` is not supported by Miri
   --> /home/justlikeef/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/sys/pal/unix/weak/weak_linkage.rs:13:38
    |
 13 |   ...safe { $name })
    |             ^^^^^ unsupported operation occurred here
    |
   ::: /home/justlikeef/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/sys/process/unix/unix.rs:474:17
    |
474 | /                 weak!(
475 | |                     fn pidfd...
476 | |                         pidf...
477 | |                         path...
...   |
482 | |                     ) -> lib...
483 | |                 );
    | |_________________- in this macro invocation
    |
    = help: this is likely not a bug in the program; it indicates that the program performed an operation that Miri does not support
    = note: BACKTRACE on thread `test_module_loa`:
    = note: inside `std::sys::process::unix::unix::<impl std::sys::process::unix::common::Command>::posix_spawn` at /home/justlikeef/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/sys/pal/unix/weak/weak_linkage.rs:13:38: 13:43
    = note: inside `std::sys::process::unix::unix::<impl std::sys::process::unix::common::Command>::spawn` at /home/justlikeef/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/sys/process/unix/unix.rs:73:28: 73:68
    = note: inside `std::sys::process::output` at /home/justlikeef/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/sys/process/mod.rs:49:36: 49:69
    = note: inside `std::process::Command::output` at /home/justlikeef/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/process.rs:1083:40: 1083:68
    = note: inside `cargo_metadata::MetadataCommand::exec` at /home/justlikeef/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/cargo_metadata-0.23.1/src/lib.rs:1234:22: 1234:38
note: inside `get_dynamic_library_path`
   --> ox_webservice_errorhandler_jinja2/tests/ffi.rs:14:20
    |
 14 | ... = MetadataCommand::new().exec().un...
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside `test_module_loading_and_execution`
   --> ox_webservice_errorhandler_jinja2/tests/ffi.rs:44:24
    |
 44 | ... = get_dynamic_library_path();
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^
note: inside closure
   --> ox_webservice_errorhandler_jinja2/tests/ffi.rs:22:39
    |
 21 | #[test]
    | ------- in this attribute macro expansion
 22 | fn test_module_loading_and_execution() {
    |                                       ^

note: some details are omitted, run with `MIRIFLAGS=-Zmiri-backtrace=full` for a verbose backtrace

error: aborting due to 1 previous error

error: test failed, to rerun pass `--test ffi`

Caused by:
  process didn't exit successfully: `/home/justlikeef/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/cargo-miri runner /var/repos/oxIDIZER/target/miri/x86_64-unknown-linux-gnu/debug/deps/ffi-ee5023750378067d` (exit status: 1)
note: test exited abnormally; to see the full output pass --no-capture to the harness.
